#!/bin/sh
# Pre-commit hook for Scaffel

# Colors for output
RED='\033[0;31m'
YELLOW='\033[1;33m'
GREEN='\033[0;32m'
NC='\033[0m' # No Color

error() {
  echo "${RED}✖ $1${NC}" >&2
}

info() {
  echo "${GREEN}ℹ $1${NC}"
}

info "Running pre-commit checks..."

# Run lint-staged on staged files
info "Running lint-staged on staged files..."
npx lint-staged || {
  error "lint-staged failed. Commit aborted."
  exit 1
}

# Run type check
info "Running TypeScript type check..."
npm run type-check || {
  error "Type check failed. Commit aborted."
  exit 1
}

info "✓ Pre-commit checks passed"
exit 0

